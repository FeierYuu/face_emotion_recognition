# 项目概览

## 🎯 项目简介

这是一个基于深度学习的面部情绪识别系统，能够实时识别和分析人脸情绪。项目使用FER2013数据集训练，支持7种基本情绪类别，并针对不同平台进行了优化。

## 🏗️ 系统架构

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   输入源        │    │   预处理模块    │    │   识别引擎      │
├─────────────────┤    ├─────────────────┤    ├─────────────────┤
│ • 摄像头        │───▶│ • 人脸检测      │───▶│ • CNN模型       │
│ • 图像文件      │    │ • 图像预处理    │    │ • 情绪分类      │
│ • 视频文件      │    │ • 数据增强      │    │ • 置信度计算    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │                        │
                                ▼                        ▼
                       ┌─────────────────┐    ┌─────────────────┐
                       │   工具模块      │    │   输出结果      │
                       ├─────────────────┤    ├─────────────────┤
                       │ • 人脸检测      │    │ • 情绪标签      │
                       │ • 图像处理      │    │ • 置信度分数    │
                       │ • 可视化        │    │ • 概率分布      │
                       └─────────────────┘    └─────────────────┘
```

## 📁 项目结构

```
face_emotion_recognition/
├── 📄 核心文件
│   ├── unified_emotion_recognition.py    # 主程序入口
│   ├── model.py                          # 模型定义
│   ├── data_preprocessing.py             # 数据预处理
│   ├── utils.py                          # 工具函数
│   └── combined_train.py                 # 训练脚本
│
├── 📁 模型文件
│   ├── models/                           # 预训练模型
│   │   ├── *.h5                          # Keras模型
│   │   └── *.tflite                      # TensorFlow Lite模型
│   └── logs/                             # 训练日志
│
├── 📁 数据文件
│   ├── datasSource/                      # 数据集
│   │   └── fer2013.csv                   # FER2013数据集
│   └── images/                           # 测试图像
│
├── 📁 测试文件
│   ├── tests/                            # 单元测试
│   └── run_image_recognition.py          # 图像识别测试
│
├── 📁 文档文件
│   ├── README.md                         # 项目说明
│   ├── CONTRIBUTING.md                   # 贡献指南
│   ├── TRAINING_GUIDE.md                 # 训练指南
│   └── RELEASE_NOTES.md                  # 发布说明
│
└── 📁 配置文件
    ├── requirements.txt                  # 依赖列表
    ├── .gitignore                        # Git忽略文件
    ├── LICENSE                           # 许可证
    └── setup_github.sh                   # GitHub设置脚本
```

## 🎭 支持的情绪类别

| 索引 | 情绪 | 英文 | 描述 |
|------|------|------|------|
| 0 | 😠 生气 | Angry | 愤怒、生气 |
| 1 | 🤢 厌恶 | Disgust | 厌恶、反感 |
| 2 | 😨 恐惧 | Fear | 恐惧、害怕 |
| 3 | 😊 开心 | Happy | 快乐、开心 |
| 4 | 😢 伤心 | Sad | 悲伤、难过 |
| 5 | 😲 惊讶 | Surprise | 惊讶、意外 |
| 6 | 😐 中性 | Neutral | 中性、无表情 |

## 🚀 核心功能

### 1. 实时识别
- 摄像头实时情绪识别
- 支持多人脸检测
- 实时置信度显示

### 2. 文件识别
- 图像文件情绪识别
- 视频文件逐帧分析
- 批量处理支持

### 3. 模型优化
- TensorFlow Lite支持
- Apple M1/M2芯片优化
- 内存使用优化

### 4. 训练功能
- 自定义模型训练
- 数据增强支持
- 多种优化策略

## 🔧 技术栈

- **深度学习**: TensorFlow 2.x, Keras
- **计算机视觉**: OpenCV 4.x
- **数据处理**: NumPy, Pandas, Scikit-learn
- **人脸检测**: OpenCV Haar级联分类器
- **图像处理**: PIL, Matplotlib
- **测试框架**: Pytest, Unittest

## 📊 性能指标

- **识别准确率**: 67%+ (FER2013测试集)
- **推理速度**: < 100ms (单张图像)
- **内存占用**: < 500MB (运行时)
- **模型大小**: < 50MB (TFLite版本)
- **支持分辨率**: 48x48 (输入), 任意 (输出)

## 🎯 使用场景

1. **教育研究**: 情绪识别算法研究
2. **用户体验**: 应用界面情绪分析
3. **医疗辅助**: 心理健康评估
4. **安防监控**: 情绪状态监控
5. **娱乐应用**: 游戏情绪交互

## 🔮 未来规划

- [ ] 支持更多情绪类别
- [ ] 微表情识别
- [ ] 多人脸场景优化
- [ ] Web界面开发
- [ ] 移动端部署
- [ ] 实时视频流处理
- [ ] 情绪变化趋势分析

## 🤝 贡献方式

1. **报告问题**: 使用GitHub Issues
2. **功能建议**: 提交Feature Request
3. **代码贡献**: 提交Pull Request
4. **文档改进**: 完善使用文档
5. **测试用例**: 添加测试覆盖

## 📞 联系方式

- **GitHub**: [项目地址](https://github.com/yourusername/face_emotion_recognition)
- **Issues**: [问题反馈](https://github.com/yourusername/face_emotion_recognition/issues)
- **Discussions**: [讨论区](https://github.com/yourusername/face_emotion_recognition/discussions)

---

**⭐ 如果这个项目对您有帮助，请给我们一个星标！**
